# conan-or-tools

This is a conan recipe to download and install ortools (currently v8.0) from https://github.com/google/or-tools.

My ultimate goal is to build ortools without any dependencies, but pull them from conan-center.

I have not been able to build it this way without dependencies (`cmake.definitions['BUILD_DEPS'] = "OFF"`) and supplying the necessary dependencies via conan packages. Something always fails... :(

Any help is VERY welcome!

## conan workflow

1. conan install . -if debug -pr vs2019_debug
2. conan source . (or, alternatively: cd or-tools; git clean -fd; cd ..)
3. conan build . --source-folder=or-tools --build-folder=debug
4. conan package . --source-folder=or-tools --build-folder=debug --package-folder=debug_package
5. conan export-pkg . user/testing --package-folder=debug/package -pr vs2019_debug --force
6. conan test test_package ortools/8.0@user/testing -pr vs2019_debug

## Known issues

- scip: It doesn't find zlib if BUILD_ZLIB=OFF. scip has its own CMakeLists.txt where CMAKE_MODULE_PATH is set and thus the FindZLIB.cmake generated by conan is never found. --> turning scip off for now
- protobuf: ortools requires 3.13.0, but conan center only has 3.11.4

## CHANGELOG

## [Unreleased]

### Fixed

- zlib from conan-center: works
- gflags from conan-center: works
- glog from conan-center: works
- abseil from conan-center: conan test test_package ortools/8.0@user/testing -pr vs2019_debug produces linker errors for abseil

### Added

- merger of my previos conanfile.py and the one provided by @Talkless [here](https://gist.github.com/Talkless/a2eda9abfb005bd314c92140e72c3b2b)
- all cmake build options for or-tools as options for conan (all untested)

[unreleased]: https://github.com/philsuess/conan-or-tools
